<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>表单全选或取消</title>
		<style>
			table {
				width: 400px;
				margin: 100px auto;
				text-align: center;
				border-collapse: collapse;
			}
			th,td {
				border-right: 1px solid #fff;
			}
			thead tr {
				color: #FFFFFF;
				background-color: deepskyblue;
			}
			tbody {
				color: #000;
				background-color: #999999;
			}
			tr {
				height: 30px;
				border: 1px solid #fff;
			}
			
		</style>
	</head>
	<body>
		<table>
			<thead>
				<tr>
					<th><input type="checkbox"/></th>
					<th>商品</th>
					<th>价钱</th>
				</tr>
			</thead>
			<tbody>
				<tr>
				<td><input type="checkbox"/></td>
				<td>iPhone8</td>
				<td>8000</td>
				</tr>
				<tr>
				<td><input type="checkbox"/></td>
				<td>iPhone8</td>
				<td>8000</td>
				</tr>
				<tr>
				<td><input type="checkbox"/></td>
				<td>iPhone8</td>
				<td>8000</td>
				</tr>
				<tr>
				<td><input type="checkbox"/></td>
				<td>iPhone8</td>
				<td>8000</td>
				</tr>
			</tbody>
		</table>
		<script>
			var checks = document.querySelector('tbody').querySelectorAll('input');
			var allCheck = document.querySelector('thead').querySelector('input');
			allCheck.onclick = function () {
				for(var i=0;i<checks.length;i++) {					
						checks[i].checked=this.checked;						
				}				
			}
			for(var i=0;i<checks.length;i++) {
			 checks[i].onclick = function() {
			 	//flag 控制全选按钮是否选中
			 	 var flag = true;
			 	for(var i=0;i<checks.length;i++) {
			 		if (!checks[i].checked) {
			 			flag = false;
			 			break; //退出for循环 这样可以提高执行效率
			 		}
			 	}
			 	allCheck.checked = flag;
			 }
		}
			
		</script>
	</body>
</html>
